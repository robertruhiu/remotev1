(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f6a04952"],{"4c2f":function(t,e,s){},5791:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a-layout",{staticStyle:{"min-height":"100vh","background-color":"#F4F7FC"}},[s("SmallSider"),s("a-layout",{staticStyle:{"background-color":"#F4F7FC"}},[s("a-layout-content",{style:{padding:"1rem 2%",background:"#FAFBFF",minHeight:"280px"}},[s("div",[s("a-card",{staticClass:"hellocard"},[s("a-breadcrumb",[s("a-breadcrumb-item",[s("a",{on:{click:function(e){return t.$router.push("/Admindashboard")}}},[t._v("Home")])]),s("a-breadcrumb-item",[s("a",{on:{click:function(e){return t.$router.push("/AdminProjects")}}},[t._v("My projects")])]),s("a-breadcrumb-item",[s("a",[t._v(t._s(t.project.title))])])],1),s("p",{staticStyle:{"font-size":"1.7rem","font-family":"sofia_prosemibold",color:"black","margin-bottom":"0"}},[t._v(" "+t._s(t.project.title))]),s("span",{staticStyle:{"margin-bottom":"0"}},[t._v("You can switch between milestone overview kanban to in depth view kanban "),s("a-button-group",{staticStyle:{"margin-left":"1%"}},[s("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.viewMode(1)}}},[s("a-icon",{attrs:{type:"appstore"}}),t._v("Milestone view ")],1),s("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.viewMode(2)}}},[t._v(" In depth view"),s("a-icon",{attrs:{type:"profile"}})],1)],1)],1)],1)],1),s("div",{staticStyle:{"min-height":"40vh",position:"relative"}},[s("div",{},["milestone"===t.viewmode?s("a-row",[s("a-col",{staticStyle:{padding:"1%"},attrs:{span:"6"}},[s("div",{staticClass:"taskcolumns"},[s("p",{staticClass:"rowtitle"},[t._v("Backlog")]),s("a-progress",{attrs:{percent:100,strokeColor:"#64C8FB",showInfo:!1}}),s("div",{staticStyle:{height:"42rem",overflow:"auto"}},t._l(t.features,(function(e){return s("div",{key:e.name,staticClass:"list-group-item"},["backlog"===e.stage?s("div",[s("a-card",{staticClass:"milestonecard"},[s("span",{staticClass:"featuretitle",attrs:{slot:"title"},slot:"title"},[t._v(" "+t._s(e.title)+" ")]),s("a",{attrs:{slot:"extra"},on:{click:function(s){return t.openFeature(e)}},slot:"extra"},[t._v("view milestone")]),[s("p",[t._v("User stories")]),t._l(e.userstories,(function(e){return s("ul",{key:e},[s("li",[t._v(t._s(e.user_story))])])}))]],2)],1):t._e()])})),0)],1)]),s("a-col",{staticStyle:{padding:"1%"},attrs:{span:"6"}},[s("div",{staticClass:"taskcolumns"},[s("p",{staticClass:"rowtitle"},[t._v("In progress")]),s("a-progress",{attrs:{percent:100,strokeColor:"#31A6EA",showInfo:!1}}),s("div",{staticStyle:{height:"42rem",overflow:"auto"}},t._l(t.features,(function(e){return s("div",{key:e.name,staticClass:"list-group-item"},["inprogress"===e.stage?s("div",[s("a-card",{staticClass:"milestonecard"},[s("span",{staticClass:"featuretitle",attrs:{slot:"title"},slot:"title"},[t._v(" "+t._s(e.title)+" ")]),s("a",{attrs:{slot:"extra"},on:{click:function(s){return t.openFeature(e)}},slot:"extra"},[t._v("view milestone ")]),[s("p",[t._v("User stories")]),t._l(e.userstories,(function(e){return s("ul",{key:e},[s("li",[t._v(t._s(e.user_story))])])}))]],2)],1):t._e()])})),0)],1)]),s("a-col",{staticStyle:{padding:"1%"},attrs:{span:"6"}},[s("div",{staticClass:"taskcolumns"},[s("p",{staticClass:"rowtitle"},[t._v("Quality check")]),s("a-progress",{attrs:{percent:100,strokeColor:"#0682D1",showInfo:!1}}),s("div",{staticStyle:{height:"42rem",overflow:"auto"}},t._l(t.features,(function(e){return s("div",{key:e.name,staticClass:"list-group-item"},["quality"===e.stage?s("div",[s("a-card",{staticClass:"milestonecard"},[s("span",{staticClass:"featuretitle",attrs:{slot:"title"},slot:"title"},[t._v(" "+t._s(e.title)+" ")]),s("a",{attrs:{slot:"extra"},on:{click:function(s){return t.openFeature(e)}},slot:"extra"},[t._v("view milestone")]),[s("div",{staticStyle:{border:"1px dashed #e9e9e9","border-radius":"6px","background-color":"#fafafa",padding:"2%","margin-bottom":"1rem"}},[s("p",[t._v("Note to test feature:")]),s("p",[t._v(t._s(e.developer_note))])]),t.developer?s("a-tag",{attrs:{color:"#64C8FB"}},[s("a-icon",{attrs:{type:"hourglass",spin:""}}),t._v(" QA ongoing ")],1):s("a-button",{attrs:{size:"small"},on:{click:function(s){return t.Done(e)}}},[s("a-icon",{attrs:{type:"check-circle",theme:"twoTone"}}),t._v("Mark as done")],1)]],2)],1):t._e()])})),0)],1)]),s("a-col",{staticStyle:{padding:"1%"},attrs:{span:"6"}},[s("div",{staticClass:"taskcolumns"},[s("p",{staticClass:"rowtitle"},[t._v("Done")]),s("a-progress",{attrs:{percent:100,strokeColor:"#056BB4",showInfo:!1}}),s("div",{staticStyle:{height:"42rem",overflow:"auto"}},t._l(t.features,(function(e){return s("div",{key:e.name,staticClass:"list-group-item"},["done"===e.stage?s("div",[s("a-card",{staticClass:"milestonecard"},[s("span",{staticClass:"featuretitle",attrs:{slot:"title"},slot:"title"},[t._v(" "+t._s(e.title)+" ")]),s("a",{attrs:{slot:"extra"},on:{click:function(s){return t.openFeature(e)}},slot:"extra"},[t._v("view milestone")]),e.escrow?s("a-tag",{attrs:{color:"#87d068"}},[t._v(" disbursed ")]):s("a-tag",{attrs:{color:"#64C8FB"}},[s("a-icon",{attrs:{type:"dollar",spin:""}}),t._v(" pending disbusrment ")],1)],1)],1):t._e()])})),0)],1)])],1):t._e(),"feature"===t.viewmode?s("a-row",{staticStyle:{color:"black"}},[s("a-col",{attrs:{span:"6"}},[s("div",{staticClass:"casecard"},[s("div",{staticStyle:{"border-bottom":"1px solid #e8e8e8"}},[s("h3",{staticStyle:{"font-family":"sofia_problack"}},[t._v("Milestones")]),s("p",{staticStyle:{"font-family":"sofia_probold"}},[t._v("These are the core milestones of what you want the application to do.Each has its own User stories and tasks that have to be achieved to accomplish it")])]),s("div",{staticStyle:{color:"black",height:"65vh","overflow-y":"scroll"}},[s("a-list",{attrs:{"item-layout":"vertical",size:"large",pagination:t.pagination,"data-source":t.features},scopedSlots:t._u([{key:"renderItem",fn:function(e){return s("a-list-item",{key:"item.title"},[s("a-card",[s("span",{staticClass:"featuretitle",attrs:{slot:"title"},slot:"title"},[t._v(" "+t._s(e.title)+" ")]),s("a",{attrs:{slot:"extra"},on:{click:function(s){return t.openFeature(e)}},slot:"extra"},[t._v("view tasks")]),t._l(e.userstories,(function(e){return s("ul",{key:e},[s("li",[t._v(t._s(e.user_story))])])}))],2)],1)}}],null,!1,24690063)})],1)])]),s("a-col",{attrs:{span:"18"}},[s("div",[t.currentfeature?s("div",[s("div",{staticStyle:{padding:"0 1%"}},[s("div",{staticClass:"casecard"},[s("p",{staticStyle:{"font-family":"sofia_proregular"}},[s("strong",[t._v("Milestone:")]),t._v(" "+t._s(t.currentfeature.title)+" ")]),s("div",[s("a-steps",{staticStyle:{width:"80%"},attrs:{current:t.FeatureStep}},[s("a-step",{attrs:{title:"In progress"}}),s("a-step",{attrs:{title:"Tasks done"}}),s("a-step",{attrs:{title:"Quality check"}}),s("a-step",{attrs:{title:"Done"}}),s("a-step",{attrs:{title:"Escrow paid"}})],1)],1),s("div"),2===t.FeatureStep?s("div",[s("p",[t._v("Client is using your developer note to test feature completion.")]),s("div",{staticStyle:{"margin-top":"16px",border:"1px dashed #e9e9e9","border-radius":"6px","background-color":"#fafafa",padding:"2%","margin-bottom":"1rem"}},[s("p",[t._v("Developer Note")]),s("p",[t._v(t._s(t.currentfeature.developer_note))])]),t.developer?s("a-button",{attrs:{size:"small",type:"primary"},on:{click:t.developernotemodal}},[t._v("edit note")]):t._e()],1):t._e(),1===t.FeatureStep?s("div",[s("p",[t._v("Well done :Tasks complete for this feature are complete ")]),t.developer?s("a-button",{attrs:{type:"primary",icon:"check"},on:{click:t.developernotemodal}},[t._v("mark as complete")]):t._e()],1):t._e()])]),s("div",{staticClass:"tasktabs"},[s("a-tabs",{attrs:{"default-active-key":"1"},on:{change:t.callback}},[s("a-tab-pane",{key:"1",attrs:{tab:"Tasks"}},[s("Tasks")],1),s("a-tab-pane",{key:"2",attrs:{tab:"Feature issues","force-render":""}},[s("Issues")],1)],1)],1)]):t._e()])])],1):t._e()],1),s("a-modal",{attrs:{"on-ok":"handleOk"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[s("template",{slot:"footer"},[s("a-button",{key:"submit",attrs:{type:"primary",disabled:t.note_validate},on:{click:t.submitDeveloperNote}},[t._v(" Submit ")])],1),s("a-form",{attrs:{layout:"vertical"}},[s("a-form-item",{attrs:{label:"Give directions of how client is to test said feature you marked as complete "}},[s("a-textarea",{attrs:{"auto-size":{minRows:4,maxRows:5}},model:{value:t.developer_note,callback:function(e){t.developer_note=e},expression:"developer_note"}}),t.note_validate?s("p",{staticStyle:{color:"red"}},[t._v(" please write something ")]):t._e()],1)],1)],2)],1)])],1)],1)},i=[],o=(s("4160"),s("b0c0"),s("159b"),s("d4ec")),r=s("c1df"),n=s.n(r),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a-layout-sider",{staticStyle:{"box-shadow":"2px 0 6px rgba(0,21,41,.35)","background-color":"#F4F7FC"},attrs:{trigger:null,collapsible:""},model:{value:t.collapsed,callback:function(e){t.collapsed=e},expression:"collapsed"}},[s("router-link",{attrs:{to:"/"}},[s("img",{staticStyle:{height:"2rem","margin-top":"1rem","margin-bottom":"1rem","margin-left":"1rem"},style:t.logo,attrs:{src:t.defaultlogo}})]),s("a-menu",{staticStyle:{"font-family":"sofia_proregular","background-color":"#F4F7FC"},attrs:{mode:"inline","default-selected-keys":t.key}},[s("a-menu-item",{key:"9",on:{click:function(e){return t.$router.push("Admindashboard")}}},[s("a-icon",{attrs:{type:"dashboard"}}),s("span",[t._v("Home")])],1),s("a-menu-item",{key:"1",on:{click:function(e){return t.$router.push("AdminProjects")}}},[s("a-icon",{attrs:{type:"appstore"}}),s("span",[t._v("Manage my Projects")])],1),s("a-menu-item",{key:"2",on:{click:t.newproject}},[s("a-icon",{attrs:{type:"plus"}}),s("span",[t._v("Create a Project")])],1),s("a-menu-item",{key:"3",on:{click:function(e){return t.$router.push("AdminEscrow")}}},[s("a-icon",{attrs:{type:"bank"}}),s("span",[t._v("Escrow Management")])],1),s("a-menu-item",{key:"4"},[s("a-icon",{attrs:{type:"calendar"}}),s("span",[t._v("My Meetings")])],1),s("a-menu-item",{key:"5",on:{click:function(e){return t.$router.push("AdminIssues")}}},[s("a-icon",{attrs:{type:"exclamation"}}),s("span",[t._v("Bugs & issues")])],1),s("a-menu-item",{key:"6"},[s("a-icon",{attrs:{type:"message"}}),s("span",[t._v("Chat")])],1),s("a-menu-item",{key:"7"},[s("a-icon",{attrs:{type:"solution"}}),s("span",[t._v("Edit Profile")])],1),s("a-menu-item",{key:"8"},[s("a-icon",{attrs:{type:"logout"}}),s("span",[t._v("logout")])],1)],1)],1)},c=[],u=(s("96cf"),s("1da1")),d=s("7ab6"),p=s.n(d),h={name:"kanbanside",components:{},data:function(){return{collapsed:!0,defaultlogo:p.a}},mounted:function(){return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},methods:{newproject:function(){this.$store.dispatch("setProject",null),this.$router.push({name:"AdminCreateEditProject"})}}},m=h,f=s("2877"),v=Object(f["a"])(m,l,c,!1,null,"06372c20",null),g=v.exports,_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",["done"===t.feature.stage?s("div",[s("a-row",[s("a-col",{staticStyle:{padding:"1%"},attrs:{span:"8"}},[s("div",{staticClass:"taskcolumns"},[s("p",{staticStyle:{"font-family":"sofia_prosemibold"}},[t._v("Done Tasks")]),s("div",{staticStyle:{height:"37rem",overflow:"auto"}},[s("draggable",{staticClass:"list-group",staticStyle:{height:"36rem"},attrs:{list:t.donelist,group:"tasks"}},t._l(t.donelist,(function(e){return s("div",{key:e.name,staticClass:"list-group-item"},[s("a-card",{staticClass:"shadowsmall",staticStyle:{width:"80%","margin-bottom":"1rem"},attrs:{hoverable:"",size:"small"}},[s("span",{attrs:{slot:"extra"},slot:"extra"},[s("a-space",[s("a-icon",{attrs:{type:"check-circle",theme:"twoTone"}})],1)],1),s("p",{staticStyle:{"font-family":"sofia_prolight"}},[t._v(t._s(e.description)+" ")])])],1)})),0)],1)])]),s("a-result",{attrs:{title:"Great, we have done all the tasks for this feature!","sub-title":"For feature improvement or bugs please create an issue on the Feature issues.This will enable you to have a conversation as the changes happen"},scopedSlots:t._u([{key:"icon",fn:function(){return[s("a-icon",{attrs:{type:"smile",theme:"twoTone"}})]},proxy:!0},{key:"extra",fn:function(){},proxy:!0}],null,!1,1110001583)})],1)],1):s("a-row",[s("a-col",{staticStyle:{padding:"1%"},attrs:{span:"8"}},[s("div",{staticClass:"taskcolumns"},[s("p",[s("span",{staticStyle:{"font-family":"sofia_prosemibold"}},[t._v("To do")]),t.developer?s("a-button",{staticStyle:{float:"right"},attrs:{type:"primary",icon:"plus",size:"small"},on:{click:t.add}},[t._v("new task")]):t._e()],1),s("div",{staticStyle:{height:"37rem",overflow:"auto"}},[t.developer?s("draggable",{staticClass:"list-group",staticStyle:{height:"36rem"},attrs:{list:t.todolist,group:"tasks"},on:{change:t.log}},t._l(t.todolist,(function(e){return s("div",{key:e.name,staticClass:"list-group-item"},[s("a-card",{staticClass:"shadowsmall",staticStyle:{width:"80%","margin-bottom":"1rem"},attrs:{hoverable:"",size:"small"}},[s("span",{attrs:{slot:"extra"},slot:"extra"},[s("a-space",[s("a-icon",{attrs:{type:"edit",theme:"twoTone"},on:{click:function(s){return t.edittask(e)}}}),s("a-popconfirm",{attrs:{title:"Are you sure delete this task?","ok-text":"Yes","cancel-text":"No"},on:{confirm:function(s){return t.removetask(e)},cancel:t.cancel}},[s("a",{attrs:{href:"#"}},[s("a-icon",{attrs:{type:"delete",theme:"twoTone","two-tone-color":"#eb2f96"}})],1)])],1)],1),s("p",{staticStyle:{"font-family":"sofia_prolight"}},[t._v(t._s(e.description)+" ")])])],1)})),0):t._l(t.todolist,(function(e){return s("div",{key:e.name,staticClass:"list-group-item"},[s("a-card",{staticClass:"shadowsmall",staticStyle:{width:"80%","margin-bottom":"1rem"},attrs:{hoverable:"",size:"small"}},[s("span",{attrs:{slot:"extra"},slot:"extra"},[s("a-space")],1),s("p",{staticStyle:{"font-family":"sofia_prolight"}},[t._v(t._s(e.description)+" ")])])],1)}))],2)])]),s("a-col",{staticStyle:{padding:"1%"},attrs:{span:"8"}},[s("div",{staticClass:"taskcolumns"},[s("p",{staticStyle:{"font-family":"sofia_prosemibold"}},[t._v("In progress")]),s("div",{staticStyle:{height:"37rem",overflow:"auto"}},[t.developer?s("draggable",{staticClass:"list-group",staticStyle:{height:"36rem"},attrs:{list:t.inprogress,group:"tasks"},on:{change:t.log}},t._l(t.inprogress,(function(e){return s("div",{key:e.name,staticClass:"list-group-item"},[s("a-card",{staticClass:"shadowsmall",staticStyle:{width:"80%","margin-bottom":"1rem"},attrs:{hoverable:"",size:"small"}},[s("span",{attrs:{slot:"extra"},slot:"extra"},[s("a-space",[s("a-icon",{attrs:{type:"edit",theme:"twoTone"},on:{click:function(s){return t.edittask(e)}}}),s("a-icon",{attrs:{type:"delete",theme:"twoTone","two-tone-color":"#eb2f96"},on:{click:function(s){return t.removetask(e)}}})],1)],1),s("p",{staticStyle:{"font-family":"sofia_prolight"}},[t._v(t._s(e.description)+" ")])])],1)})),0):t._l(t.inprogress,(function(e){return s("div",{key:e.name,staticClass:"list-group-item"},[s("a-card",{staticClass:"shadowsmall",staticStyle:{width:"80%","margin-bottom":"1rem"},attrs:{hoverable:"",size:"small"}},[s("span",{attrs:{slot:"extra"},slot:"extra"},[s("a-space")],1),s("p",{staticStyle:{"font-family":"sofia_prolight"}},[t._v(t._s(e.description)+" ")])])],1)}))],2)])]),s("a-col",{staticStyle:{padding:"1%"},attrs:{span:"8"}},[s("div",{staticClass:"taskcolumns"},[s("p",{staticStyle:{"font-family":"sofia_prosemibold"}},[t._v("Done")]),s("div",{staticStyle:{height:"37rem",overflow:"auto"}},[t.developer?s("draggable",{staticClass:"list-group",staticStyle:{height:"36rem"},attrs:{list:t.donelist,group:"tasks"},on:{change:t.log}},t._l(t.donelist,(function(e){return s("div",{key:e.name,staticClass:"list-group-item"},[s("a-card",{staticClass:"shadowsmall",staticStyle:{width:"80%","margin-bottom":"1rem"},attrs:{hoverable:"",size:"small"}},[s("span",{attrs:{slot:"extra"},slot:"extra"},[s("a-space",[s("a-icon",{attrs:{type:"edit",theme:"twoTone"},on:{click:function(s){return t.edittask(e)}}}),s("a-icon",{attrs:{type:"delete",theme:"twoTone","two-tone-color":"#eb2f96"},on:{click:function(s){return t.removetask(e)}}}),s("a-icon",{attrs:{type:"check-circle",theme:"twoTone"}})],1)],1),s("p",{staticStyle:{"font-family":"sofia_prolight"}},[t._v(t._s(e.description)+" ")])])],1)})),0):t._l(t.donelist,(function(e){return s("div",{key:e.name,staticClass:"list-group-item"},[s("a-card",{staticClass:"shadowsmall",staticStyle:{width:"80%","margin-bottom":"1rem"},attrs:{hoverable:"",size:"small"}},[s("span",{attrs:{slot:"extra"},slot:"extra"},[s("a-space",[s("a-icon",{attrs:{type:"check-circle",theme:"twoTone"}})],1)],1),s("p",{staticStyle:{"font-family":"sofia_prolight"}},[t._v(t._s(e.description)+" ")])])],1)}))],2)])])],1),s("a-modal",{attrs:{"on-ok":"handleOk"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[s("template",{slot:"footer"},[s("a-button",{key:"submit",attrs:{type:"primary",disabled:t.task_description_validate,loading:t.loading},on:{click:t.submitTaskEdit}},[t._v(" Submit ")])],1),s("a-form",{attrs:{layout:"vertical"}},[s("a-form-item",{attrs:{label:"Describe the task"}},[s("a-textarea",{attrs:{"auto-size":{minRows:3,maxRows:5}},model:{value:t.task_description,callback:function(e){t.task_description=e},expression:"task_description"}}),t.task_description_validate?s("p",{staticStyle:{color:"red"}},[t._v(" please write something ")]):t._e()],1)],1)],2),s("a-modal",{attrs:{"on-ok":"handleOk"},model:{value:t.newtask,callback:function(e){t.newtask=e},expression:"newtask"}},[s("template",{slot:"footer"},[s("a-button",{key:"submit",attrs:{type:"primary",disabled:t.task_description_validate,loading:t.loading},on:{click:t.submitNewTask}},[t._v(" Submit ")])],1),s("a-form",{attrs:{layout:"vertical"}},[s("a-form-item",{attrs:{label:"Describe the task"}},[s("a-textarea",{attrs:{"auto-size":{minRows:3,maxRows:5}},model:{value:t.task_description,callback:function(e){t.task_description=e},expression:"task_description"}}),t.task_description_validate?s("p",{staticStyle:{color:"red"}},[t._v(" please write something ")]):t._e()],1)],1)],2)],1)},k=[],y=(s("a4d3"),s("e01a"),s("caad"),s("c975"),s("a434"),s("2532"),s("310e")),b=s.n(y),w=s("1226"),S={name:"tasks",data:function(){return{taskslist:[],feature_id:null,todolist:[],inprogress:[],donelist:[],currenttask:{},visible:!1,loading:!1,newtask:!1,task_description:"",task_description_validate:!1,feature:null,developer:!1}},components:{draggable:b.a},mounted:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.fetchtasks(),t.$store.dispatch("setFeaturestatus",!1),"developer"===t.$store.state.user_object.user_type&&(t.developer=!0);case 3:case"end":return e.stop()}}),e)})))()},computed:{FeatureId:function(){return this.$store.state.feature_id}},watch:{FeatureId:function(){this.$store.dispatch("setFeaturestatus",!1),this.donelist=[],this.inprogress=[],this.todolist=[],this.fetchtasks()},todolist:function(){this.$store.dispatch("setFeaturestatus",!1),this.todolist.forEach((function(t){t.stage="todo"}));var t=this;t.Checkcomplete()},inprogress:function(){this.$store.dispatch("setFeaturestatus",!1),this.inprogress.forEach((function(t){t.stage="inprogress"}));var t=this;t.Checkcomplete()},donelist:function(){this.$store.dispatch("setFeaturestatus",!1),this.donelist.forEach((function(t){t.stage="done"}));var t=this;t.Checkcomplete()},task_description:function(){""!==this.task_description?this.task_description_validate=!1:this.task_description_validate=!0},currenttask:function(){""===this.currenttask.description?this.task_description_validate=!0:this.task_description_validate=!1}},methods:{fetchtasks:function(){var t=this,e={headers:{Authorization:"JWT "+this.$store.state.token}};w["a"].fetchfeaturetask(this.$store.state.feature_id,e).then((function(e){t.taskslist=e.data,t.taskslist.forEach((function(e){"todo"===e.stage?t.todolist.push(e):"inprogress"===e.stage?t.inprogress.push(e):"done"===e.stage&&t.donelist.push(e)}));var s=t;s.Checkcomplete(),t.getFeature()}))},getFeature:function(){var t=this,e={headers:{Authorization:"JWT "+this.$store.state.token}};w["a"].getfeature(this.$store.state.feature_id,e).then((function(e){t.feature=e.data}))},log:function(t){var e={headers:{Authorization:"JWT "+this.$store.state.token}};if(t.removed)if(this.todolist.includes(t.removed.element))console.log(t.removed.element),w["a"].featuretaskpatch(t.removed.element.id,{stage:t.removed.element.stage},e).then();else if(this.inprogress.includes(t.removed.element))w["a"].featuretaskpatch(t.removed.element.id,{stage:t.removed.element.stage},e).then();else if(this.donelist.includes(t.removed.element)){w["a"].featuretaskpatch(t.removed.element.id,{stage:t.removed.element.stage},e).then();var s=this;s.Checkcomplete()}},add:function(){this.newtask=!0},removetask:function(t){if("todo"===t.stage)this.removeElement(this.todolist,t);else if("inprogress"===t.stage){var e=this;e.removeElement(this.inprogress,t)}else if("done"===t.stage){var s=this;s.removeElement(this.donelist,t)}},removeElement:function(t,e){var s={headers:{Authorization:"JWT "+this.$store.state.token}};w["a"].deletetask(e.id,s).then();var a=t.indexOf(e);a>-1&&t.splice(a,1)},edittask:function(t){this.visible=!0,this.currenttask=t,this.task_description=this.currenttask.description},submitTaskEdit:function(){var t=this,e={headers:{Authorization:"JWT "+this.$store.state.token}};this.currenttask.description?(this.currenttask.description=this.task_description,this.loading=!0,this.loading=!1,this.visible=!1,w["a"].featuretaskpatch(this.currenttask.id,{description:this.task_description},e).then((function(){t.$message.info("edits saved")})),this.task_description="",this.task_description_validate=!1):this.task_description_validate=!0},submitNewTask:function(){var t=this,e={headers:{Authorization:"JWT "+this.$store.state.token}};if(""!==this.task_description){var s={stage:"todo",feature:this.$store.state.feature_id,description:this.task_description};w["a"].newfeaturetask(s,e).then((function(e){t.task_description="",t.newtask=!1,t.$message.info("task has been saved"),t.todolist.push(e.data)}))}else this.task_description_validate=!0},Checkcomplete:function(){this.donelist.length>0&&(0===this.todolist.length&&0===this.inprogress.length?this.$store.dispatch("setFeaturestatus",!0):this.$store.dispatch("setFeaturestatus",!1))}}},C=S,x=(s("aba7"),Object(f["a"])(C,_,k,!1,null,"98fa784a",null)),$=x.exports,F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",[s("div",[s("a-button",{attrs:{type:"danger",size:"small"},on:{click:t.newIssue}},[s("a-icon",{attrs:{type:"plus"}}),t._v(" new issue ")],1)],1),s("a-row",{attrs:{gutter:"16"}},[s("a-col",{attrs:{span:"16"}},[s("a-list",{attrs:{"item-layout":"vertical",size:"large",pagination:t.pagination,"data-source":t.issuelist},scopedSlots:t._u([{key:"renderItem",fn:function(e){return s("a-list-item",{key:"issue"},[s("a-card",{staticStyle:{width:"100%"}},[s("a-space",[s("a-icon",{attrs:{type:"info-circle",theme:"twoTone","two-tone-color":"#52c41a",rotate:180}}),s("span",{staticStyle:{"font-family":"sofia_probold","font-size":"1rem"}},[t._v(t._s(e.title))]),"bug"===e.tag?s("a-tag",{attrs:{color:"#f50"}},[t._v(" "+t._s(e.tag)+" ")]):t._e(),"question"===e.tag?s("a-tag",{attrs:{color:"#cc317c"}},[t._v(" "+t._s(e.tag)+" ")]):t._e(),"incomplete"===e.tag?s("a-tag",{attrs:{color:"#e5ca85"}},[t._v(" "+t._s(e.tag)+" ")]):t._e(),e.arbitration_required?s("a-tag",{attrs:{color:"#0366d6"}},[t._v(" abitration ")]):t._e(),s("a-button",{attrs:{size:"small"},on:{click:function(s){return t.openIssue(e)}}},[t._v("view issue")])],1)],1)],1)}}])})],1),t.issueopen?s("a-col",{staticClass:"floatcard",attrs:{span:"8"}},[s("div",{staticStyle:{padding:"2%"}},[s("a-card",{staticStyle:{width:"100%"}},[s("a-icon",{staticStyle:{float:"right"},attrs:{type:"close"},on:{click:t.Close}}),s("p",[t._v(t._s(t.currentissue.title))]),s("div",{staticStyle:{"background-color":"white",border:"1px solid #e8e8e8",padding:"2%","margin-bottom":"1rem"}},[s("p",{staticStyle:{"font-family":"sofia_proregular"}},[t._v(t._s(t.currentissue.description))])]),s("a-space",[t.currentissue.closed?s("a-button",{attrs:{type:"primary",size:"small"},on:{click:t.CloseOpen}},[t._v("Re open issue")]):s("a-button",{attrs:{type:"primary",size:"small"},on:{click:t.CloseOpen}},[t._v("Mark as done")]),t.currentissue.closed?t._e():s("div",[t.currentissue.arbitration_required?t._e():s("a-button",{attrs:{size:"small"},on:{click:t.Abitration}},[s("a-icon",{attrs:{type:"usergroup-add"}}),t._v(" Request abitration ")],1),t.currentissue.arbitration_required?s("a-button",{attrs:{size:"small"},on:{click:t.Abitration}},[s("a-icon",{attrs:{type:"usergroup-add"}}),t._v(" Close abitration ")],1):t._e()],1)],1),s("div",[t.currentcomments.length?s("a-list",{staticStyle:{height:"20vh","overflow-y":"scroll"},attrs:{"data-source":t.currentcomments,header:t.currentcomments.length+" "+(t.currentcomments.length>1?"replies":"reply"),"item-layout":"horizontal"},scopedSlots:t._u([{key:"renderItem",fn:function(t){return s("a-list-item",{},[s("a-comment",{attrs:{author:t.author.user.first_name,content:t.text,datetime:t.created}})],1)}}],null,!1,3191681136)}):t._e(),t.currentissue.closed?t._e():s("a-comment",[s("div",{attrs:{slot:"content"},slot:"content"},[s("a-form-item",[s("a-textarea",{attrs:{rows:4,value:t.value},on:{change:t.handleChange}})],1),s("a-form-item",[s("a-button",{attrs:{"html-type":"submit",loading:t.submitting,type:"primary"},on:{click:t.handleSubmit}},[t._v(" Add Comment ")])],1)],1)])],1)],1)],1)]):t.newissue?s("a-col",{attrs:{span:"8"}},[s("div",{staticStyle:{padding:"2%"}},[s("a-card",{staticStyle:{width:"100%"}},[s("a-form",{attrs:{layout:"vertical"}},[s("a-form-item",{attrs:{label:"Title"}},[s("a-input",{model:{value:t.issuetitle,callback:function(e){t.issuetitle=e},expression:"issuetitle"}})],1),s("a-form-item",{attrs:{label:"Describe the issue"}},[s("a-textarea",{attrs:{"auto-size":{minRows:3,maxRows:5}},model:{value:t.issuedescription,callback:function(e){t.issuedescription=e},expression:"issuedescription"}})],1),s("p",[t._v("Which of the below does the issue fall under?")]),s("a-radio-group",{staticStyle:{"margin-bottom":"1rem"},attrs:{"button-style":"solid","default-value":"bug"},model:{value:t.issuetag,callback:function(e){t.issuetag=e},expression:"issuetag"}},[s("a-radio-button",{attrs:{value:"bug"}},[t._v(" bug ")]),s("a-radio-button",{attrs:{value:"question"}},[t._v(" question ")]),s("a-radio-button",{attrs:{value:"incomplete"}},[t._v(" incomplete ")])],1),s("a-form-item",[s("a-space",[s("a-button",{attrs:{type:"primary"},on:{click:t.SubmitIssue}},[t._v(" Submit ")]),s("a-button",{on:{click:t.Close}},[t._v(" Cancel ")])],1)],1)],1)],1)],1)]):t._e()],1)],1)])},T=[],z={name:"issues",data:function(){return{issuelist:[],feature_id:null,visible:!1,loading:!1,pagination:{onChange:function(t){console.log(t)},pageSize:3},issueopen:!1,currentissue:{},comments:[],submitting:!1,value:"",newissue:!1,issuetitle:"",issuetag:"",issuedescription:"",currentcomments:[]}},computed:{FeatureId:function(){return this.$store.state.feature_id}},watch:{FeatureId:function(){this.fetchIssues()}},mounted:function(){this.fetchIssues()},methods:{fetchIssues:function(){var t=this,e={headers:{Authorization:"JWT "+this.$store.state.token}};w["a"].fetchfeatureissues(this.$store.state.feature_id,e).then((function(e){t.issuelist=e.data}))},openIssue:function(t){var e=this,s={headers:{Authorization:"JWT "+this.$store.state.token}};this.currentissue=t,this.newissue=!1,this.issueopen=!0,w["a"].fetchissuecomments(this.currentissue.id,s).then((function(t){e.currentcomments=t.data}))},newIssue:function(){this.issueopen=!1,this.newissue=!0},SubmitIssue:function(){var t=this,e={headers:{Authorization:"JWT "+this.$store.state.token}},s={feature:this.$store.state.feature_id,title:this.issuetitle,description:this.issuedescription,tag:this.issuetag};this.newissue=!1,w["a"].newfeatureissue(s,e).then((function(){t.fetchIssues()})),this.issuetitle="",this.issuedescription="",this.issuetag=""},Close:function(){this.issueopen=!1,this.newissue=!1},CloseOpen:function(){this.currentissue.closed=!0!==this.currentissue.closed;var t={headers:{Authorization:"JWT "+this.$store.state.token}};w["a"].featureissuepatch(this.currentissue.id,{closed:this.currentissue.closed},t).then()},Abitration:function(){this.currentissue.arbitration_required=!0!==this.currentissue.arbitration_required;var t={headers:{Authorization:"JWT "+this.$store.state.token}};w["a"].featureissuepatch(this.currentissue.id,{arbitration_required:this.currentissue.arbitration_required},t).then()},handleSubmit:function(){var t=this;if(this.value){this.submitting=!0,this.submitting=!1;var e={headers:{Authorization:"JWT "+this.$store.state.token}},s={issue:this.currentissue.id,text:this.value,author:this.$store.state.user.pk};w["a"].newissuecomment(s,e).then((function(){w["a"].fetchissuecomments(t.currentissue.id,e).then((function(e){t.currentcomments=e.data})),t.value=""}))}},handleChange:function(t){this.value=t.target.value}}},A=z,I=(s("ce7e"),Object(f["a"])(A,F,T,!1,null,"557d9b2c",null)),j=I.exports,E=function t(e,s,a,i,r,n){Object(o["a"])(this,t),this.id=e,this.title=s,this.stage=a,this.userstories=i,this.developer_note=r,this.escrow=n},J={name:"adminTrackboard",data:function(){return{Feature:E,pagination:{onChange:function(t){console.log(t)},pageSize:4},currentfeature:{},viewmode:"milestone",visible:!1,developer_note:"",note_validate:!1,project:{},features:[],developer:!1}},components:{SmallSider:g,Tasks:$,Issues:j},mounted:function(){this.$store.dispatch("setFeature",this.currentfeature.id),this.fetchProject(),"developer"===this.$store.state.user_object.user_type&&(this.developer=!0)},computed:{FeatureStep:function(){var t=0;return t="quality"===this.currentfeature.stage?2:this.currentfeature.escrow?4:"done"===this.currentfeature.stage?3:this.$store.state.feature_complete?1:0,t},Greeting:function(){n.a;var t=new Date,e=t.getHours(),s="";return s=e<12?"Good Morning":e<18?"Good Afternoon":"Good Evening",s}},watch:{developer_note:function(){""!==this.developer_note?this.note_validate=!1:this.note_validate=!0}},methods:{fetchProject:function(){var t=this,e={headers:{Authorization:"JWT "+this.$store.state.token}};w["a"].getprojectslug(this.$route.params.projectSlug,e).then((function(e){t.project=e.data,t.fetchFeatures()}))},fetchFeatures:function(){var t=this,e={headers:{Authorization:"JWT "+this.$store.state.token}};w["a"].getfeatures(this.project.id,e).then((function(e){var s=e.data;s.forEach((function(e){t.fetchStories(e)}))}))},fetchStories:function(t){var e=this,s={headers:{Authorization:"JWT "+this.$store.state.token}};w["a"].getstories(t.id,s).then((function(s){var a=t.id,i=t.name,o=t.stage,r=s.data,n=t.developer_note,l=t.escrow_disbursed,c=new E(a,i,o,r,n,l);e.features.push(c)}))},log:function(t){window.console.log(t)},viewMode:function(t){this.viewmode=1===t?"milestone":"feature"},openFeature:function(t){this.currentfeature=t,this.$store.dispatch("setFeature",this.currentfeature.id),this.viewmode="feature",this.FeatureStep()},developernotemodal:function(){this.visible=!0,this.developer_note=this.currentfeature.developer_note},submitDeveloperNote:function(){if(""!==this.developer_note){this.currentfeature.developer_note=this.developer_note,this.currentfeature.stage="quality";var t={headers:{Authorization:"JWT "+this.$store.state.token}};w["a"].updatefeature(this.currentfeature.id,{developer_note:this.developer_note,stage:"quality"},t).then(),this.visible=!1,this.note_validate=!1,this.developer_note=""}else this.note_validate=!0},Done:function(t){this.currentfeature=t;var e={headers:{Authorization:"JWT "+this.$store.state.token}};this.currentfeature.stage="done",w["a"].updatefeature(this.currentfeature.id,{stage:"done"},e).then()}}},W=J,q=(s("703c"),Object(f["a"])(W,a,i,!1,null,"dc6322fe",null));e["default"]=q.exports},"703c":function(t,e,s){"use strict";var a=s("4c2f"),i=s.n(a);i.a},"7ab6":function(t,e,s){t.exports=s.p+"img/cropped.59e8b842.png"},"7f8f":function(t,e,s){},"8c03":function(t,e,s){},aba7:function(t,e,s){"use strict";var a=s("8c03"),i=s.n(a);i.a},ce7e:function(t,e,s){"use strict";var a=s("7f8f"),i=s.n(a);i.a},d4ec:function(t,e,s){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}s.d(e,"a",(function(){return a}))}}]);
//# sourceMappingURL=chunk-f6a04952.fe248f42.js.map