(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-240b0796"],{"051d":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-layout-sider",{staticStyle:{"box-shadow":"2px 0 6px rgba(0,21,41,.35)","background-color":"#F4F7FC"},attrs:{breakpoint:"lg","collapsed-width":"0"},on:{collapse:e.onCollapse,breakpoint:e.onBreakpoint}},[n("hide-at",{attrs:{breakpoints:{small:425,medium:768},breakpoint:"mediumAndBelow"}},[n("router-link",{attrs:{to:"/"}},[n("img",{staticStyle:{width:"9rem",height:"2rem","margin-top":"1rem","margin-bottom":"1rem","margin-left":"1rem"},style:e.logo,attrs:{src:e.defaultlogo}})])],1),n("a-menu",{staticStyle:{"font-family":"sofia_proregular","background-color":"#F4F7FC"},attrs:{mode:"inline","default-selected-keys":e.key}},[n("a-menu-item",{key:"9",on:{click:function(t){return e.$router.push("/Developer")}}},[n("a-icon",{attrs:{type:"dashboard"}}),n("span",[e._v("Dashboard")])],1),n("a-menu-item",{key:"1",on:{click:function(t){return e.$router.push("/DeveloperProjects")}}},[n("a-icon",{attrs:{type:"appstore"}}),n("span",[e._v("Manage my Projects")])],1),n("a-menu-item",{key:"3",on:{click:function(t){return e.$router.push("/DeveloperEscrow")}}},[n("a-icon",{attrs:{type:"bank"}}),n("span",[e._v("Escrow Management")])],1),n("a-menu-item",{key:"4"},[n("a-icon",{attrs:{type:"calendar"}}),n("span",[e._v("My Meetings")])],1),n("a-menu-item",{key:"5",on:{click:function(t){return e.$router.push("/DevBugs")}}},[n("a-icon",{attrs:{type:"exclamation"}}),n("span",[e._v("Bugs & issues")])],1),n("a-menu-item",{key:"6"},[n("a-icon",{attrs:{type:"message"}}),n("span",[e._v("Chat")])],1),n("a-menu-item",{key:"7"},[n("a-icon",{attrs:{type:"solution"}}),n("span",[e._v("Edit Profile")])],1),n("a-menu-item",{key:"8",on:{click:e.logout}},[n("a-icon",{attrs:{type:"logout"}}),n("span",[e._v("logout")])],1)],1)],1)},r=[],o=n("8808"),i=n("b8fb"),s=n.n(i),c={name:"DevSider",data:function(){return{collapsed:!1,defaultlogo:s.a,key:["9"]}},components:{hideAt:o["hideAt"]},computed:{getRoute:function(){var e=this.$route;return console.log(e),e}},methods:{onCollapse:function(e,t){return t},onBreakpoint:function(e){return e},logout:function(){this.$store.dispatch("setToken",null),this.$store.dispatch("setUser",null),this.$store.dispatch("setisLoggedIn",!1),this.$store.dispatch("setUser_object",null),this.$store.dispatch("setProjectedit",null),this.$router.push({name:"home"})}}},u=c,m=(n("89c0"),n("2877")),l=Object(m["a"])(u,a,r,!1,null,"429d03ee",null);t["a"]=l.exports},"1dde":function(e,t,n){var a=n("d039"),r=n("b622"),o=n("2d00"),i=r("species");e.exports=function(e){return o>=51||!a((function(){var t=[],n=t.constructor={};return n[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"4de4":function(e,t,n){"use strict";var a=n("23e7"),r=n("b727").filter,o=n("1dde"),i=n("ae40"),s=o("filter"),c=i("filter");a({target:"Array",proto:!0,forced:!s||!c},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},"752d":function(e,t,n){"use strict";var a=n("a055"),r=n.n(a);r.a},"89c0":function(e,t,n){"use strict";var a=n("fd99"),r=n.n(a);r.a},a055:function(e,t,n){},a15b:function(e,t,n){"use strict";var a=n("23e7"),r=n("44ad"),o=n("fc6a"),i=n("a640"),s=[].join,c=r!=Object,u=i("join",",");a({target:"Array",proto:!0,forced:c||!u},{join:function(e){return s.call(o(this),void 0===e?",":e)}})},b0c0:function(e,t,n){var a=n("83ab"),r=n("9bf2").f,o=Function.prototype,i=o.toString,s=/^\s*function ([^ (]*)/,c="name";a&&!(c in o)&&r(o,c,{configurable:!0,get:function(){try{return i.call(this).match(s)[1]}catch(e){return""}}})},bf80:function(e,t,n){"use strict";var a=n("3f4a");t["a"]={authenticated:function(e,t){return Object(a["a"])().get("getprofile/".concat(e," "),t)},devs:function(e){return Object(a["a"])().get("qualified",e)},sliceddevs:function(){return Object(a["a"])().get("userssliced")},allusers:function(){return Object(a["a"])().get("allusers")},currentuser:function(e,t){return Object(a["a"])().get("getprofile/".concat(e," "),t)},retrieveuser:function(e,t){return Object(a["a"])().get("getuser/".concat(e," "),t)},experience:function(e,t){return Object(a["a"])().get("getexperience/".concat(e," "),t)},newexperience:function(e,t){return Object(a["a"])().post("newexperience ",e,t)},updateexperience:function(e,t,n){return Object(a["a"])().patch("updateexperience/".concat(e," "),t,n)},deleteexperience:function(e,t){return Object(a["a"])().delete("updateexperience/".concat(e," "),t)},portfolio:function(e,t){return Object(a["a"])().get("getportofolio/".concat(e," "),t)},newuser:function(e,t){return Object(a["a"])().post("newuser/".concat(e," "),t)},newportfolio:function(e,t){return Object(a["a"])().post("newportfolio ",e,t)},newresource:function(e,t){return Object(a["a"])().post("newresource ",e,t)},subjectresources:function(e,t){return Object(a["a"])().get("subjectresources/".concat(e," "),t)},resourceslikeupdate:function(e,t,n){return Object(a["a"])().patch("resourceslikeupdate/".concat(e," "),t,n)},updateportfolio:function(e,t,n){return Object(a["a"])().patch("updateportfolio/".concat(e," "),t,n)},deleteportfolio:function(e,t){return Object(a["a"])().delete("updateportfolio/".concat(e," "),t)},update:function(e,t,n){return Object(a["a"])().put("updater/".concat(e," "),t,n)},updatepatch:function(e,t,n){return Object(a["a"])().patch("updater/".concat(e," "),t,n)},talentorder:function(){return Object(a["a"])().get("talentorder")},unsubscribe:function(e){return Object(a["a"])().get("unsubscribe/".concat(e," "))},portfoliolikeupdate:function(e,t,n){return Object(a["a"])().patch("portfoliolikeupdate/".concat(e," "),t,n)}}},caad:function(e,t,n){"use strict";var a=n("23e7"),r=n("4d64").includes,o=n("44d2"),i=n("ae40"),s=i("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!s},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},d4ec:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return a}))},ef6b:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-layout",{staticStyle:{"min-height":"100vh","background-color":"#F4F7FC"}},[a("DevSider"),a("a-layout",{staticStyle:{"background-color":"#F4F7FC"}},[a("a-layout-content",{style:{padding:"1% 2%",background:"#FAFBFF",minHeight:"280px"}},[a("a-card",{staticClass:"hellocard"},[a("a-row",[a("a-col",{attrs:{span:"12"}},[a("a-breadcrumb",[a("a-breadcrumb-item",[a("a",{on:{click:function(t){return e.$router.push("/Developer")}}},[e._v("Home")])]),a("a-breadcrumb-item",[a("a",[e._v("Manage and Create Teams")])])],1),a("span",{staticStyle:{"font-size":"1.7rem","font-family":"sofia_prosemibold","margin-bottom":"0",color:"black"}},[e._v(" Manage and Create Teams")])],1),a("a-col",{attrs:{span:"6"}},[a("div",{staticStyle:{"text-align":"center"}},[a("img",{staticStyle:{width:"20%"},attrs:{src:n("fe40")}})])])],1)],1),a("div",{staticStyle:{"min-height":"40vh",position:"relative"}},[a("div",{staticStyle:{padding:"0 3%"}},[e.myteams.length>0?a("div",[a("a-row",[a("a-col",{attrs:{span:"12"}},e._l(e.myteams,(function(t){return a("div",{key:t,staticStyle:{"margin-bottom":"1rem"}},[a("a-card",{staticStyle:{width:"30rem"},attrs:{title:t.name}},[a("a",{attrs:{slot:"extra"},on:{click:function(n){return e.openteam(t)}},slot:"extra"},[e._v("view team")]),t.project?a("div",e._l(e.Inprogress,(function(n){return a("div",{key:n},[t.project===n.id?a("p",[e._v(" Project working on : "+e._s(n.title)+" ")]):e._e()])})),0):e._e(),a("a-space",[a("span",[a("a-tag",{attrs:{color:"#2db7f5"}},[e._v(" "+e._s(t.members)+" ")]),e._v(": Members")],1),a("span",[a("a-tag",{attrs:{color:"cyan"}},[e._v(" "+e._s(t.pending)+" ")]),e._v(": Pending Members")],1)])],1)],1)})),0),a("a-col",{attrs:{span:"6"}},[e.currentteam?a("div",[a("a-card",{staticStyle:{width:"40rem"}},[a("a-form",{attrs:{layout:"vertical"}},[a("a-form-item",{attrs:{label:"Team name"}},[a("a-input",{model:{value:e.currentteam.name,callback:function(t){e.$set(e.currentteam,"name",t)},expression:"currentteam.name"}})],1),e.currentteam.project?a("a-form-item",[a("p",[e._v("Do you want to change attached project")]),a("a-select",{attrs:{"default-value":e.currentteam.project},on:{change:e.handleChange}},e._l(e.Inprogress,(function(t){return a("a-select-option",{key:t,attrs:{value:t.id}},[e._v(" "+e._s(t.title)+" ")])})),1)],1):a("a-form-item",[a("p",[e._v("Do you want to attach team to one of your projects")]),a("a-select",{staticStyle:{width:"120px"},on:{change:e.handleChange}},e._l(e.Inprogress,(function(t){return a("a-select-option",{key:t,attrs:{value:t.id}},[e._v(" "+e._s(t.title)+" ")])})),1)],1),a("div",{staticStyle:{"margin-bottom":"1rem"}},[a("p",[e._v("Team members")]),e._l(e.members,(function(t,n){return[a("a-tag",{key:t,attrs:{color:"blue",closable:0===n},on:{close:function(){return e.handleClose(t)}}},[e._v(" "+e._s(t.user.first_name)+" ")])]})),a("div",[a("p",[e._v("Invite someone to join")]),a("a-input-search",{attrs:{placeholder:"input user email you want to invite"},on:{search:e.lookUpuser},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e.loading?a("a-spin"):e._e(),e.error?a("p",{staticStyle:{color:"red"}},[e._v(" no user found")]):e._e(),e.pendingmembers.length>0?a("p",[e._v("Pending invites")]):e._e(),e._l(e.pendingmembers,(function(t,n){return[a("a-tag",{key:t,attrs:{color:"blue",closable:0===n},on:{close:function(){return e.handleClose1(t)}}},[e._v(" "+e._s(t.first_name)+" ")])]}))],2)],2),a("a-form-item",[a("a-space",[a("a-button",{attrs:{type:"primary"},on:{click:e.Submit}},[e._v(" Submit ")]),a("a-button",{on:{click:e.Close}},[e._v(" Cancel ")])],1)],1)],1)],1)],1):a("div",[e.create?e._e():a("a-result",{attrs:{title:"Create a new team"},scopedSlots:e._u([{key:"icon",fn:function(){return[a("a-icon",{attrs:{type:"rocket",theme:"twoTone"}})]},proxy:!0},{key:"extra",fn:function(){return[a("a-button",{attrs:{type:"primary"},on:{click:e.NewTeam}},[e._v(" create ")])]},proxy:!0}],null,!1,2873517812)}),e.create?a("div",[a("a-card",{staticStyle:{width:"20rem"},attrs:{title:"New team"}},[a("a-form",{attrs:{layout:"vertical"}},[a("a-form-item",{attrs:{label:"Team name"}},[a("a-input",{model:{value:e.teamname,callback:function(t){e.teamname=t},expression:"teamname"}})],1),a("a-form-item",[a("p",[e._v("Do you want to attach team to one of your projects")]),a("a-select",{staticStyle:{width:"120px"},on:{change:e.handleChange}},e._l(e.Inprogress,(function(t){return a("a-select-option",{key:t,attrs:{value:t.id}},[e._v(" "+e._s(t.title)+" ")])})),1)],1),a("a-form-item",[a("a-space",[a("a-button",{attrs:{type:"primary"},on:{click:e.CreateTeam}},[e._v(" Submit ")]),a("a-button",{on:{click:e.Close}},[e._v(" Cancel ")])],1)],1)],1)],1)],1):e._e()],1)])],1)],1):a("div",[e.create?e._e():a("a-result",{attrs:{status:"404",title:"","sub-title":"Sorry, you dont have any teams a the moment.You can then assign a team to a project"},scopedSlots:e._u([{key:"extra",fn:function(){return[a("a-button",{attrs:{type:"primary"},on:{click:e.NewTeam}},[e._v(" Create team ")])]},proxy:!0}],null,!1,3698369615)}),e.create?a("div",[a("a-card",{staticStyle:{width:"40rem"},attrs:{title:"New team"}},[a("a-form",{attrs:{layout:"vertical"}},[a("a-form-item",{attrs:{label:"Team name"}},[a("a-input",{model:{value:e.teamname,callback:function(t){e.teamname=t},expression:"teamname"}})],1),a("a-form-item",[a("p",[e._v("Do you want to attach team to one of your projects")]),a("a-select",{staticStyle:{width:"120px"},on:{change:e.handleChange}},e._l(e.Inprogress,(function(t){return a("a-select-option",{key:t,attrs:{value:t.id}},[e._v(" "+e._s(t.title)+" ")])})),1)],1),a("a-form-item",[a("a-space",[a("a-button",{attrs:{type:"primary"},on:{click:e.CreateTeam}},[e._v(" Submit ")]),a("a-button",{on:{click:e.Close}},[e._v(" Cancel ")])],1)],1)],1)],1)],1):e._e()],1)])])],1)],1)],1)},r=[],o=(n("4de4"),n("4160"),n("caad"),n("a15b"),n("b0c0"),n("ac1f"),n("1276"),n("159b"),n("d4ec")),i=n("051d"),s=n("1226"),c=n("bf80"),u=n("7bb1"),m=n("2b0e");m["a"].use(u["a"]);var l=function e(t,n,a,r,i){Object(o["a"])(this,e),this.id=t,this.name=n,this.members=a,this.project=r,this.pending=i},p={name:"Teams",data:function(){return{teams:[],myprojects:[],create:!1,teamproject:null,teamname:"",myteams:[],currentteam:null,members:[],email:"",error:!1,loading:!1,pendingmembers:[],member_ids:[],pending_ids:[]}},components:{DevSider:i["a"]},computed:{Inprogress:function(){var e=[];return this.myprojects.forEach((function(t){"developement"===t.stage&&e.push(t)})),e}},mounted:function(){this.fetchmyteams(),this.FetchProject()},methods:{fetchmyteams:function(){var e=this,t={headers:{Authorization:"JWT "+this.$store.state.token}};this.teams=[],this.currentteam=null,this.myteams=[],s["a"].fetchteams(this.$store.state.user.pk,t).then((function(t){e.teams=t.data,e.teams.forEach((function(t){var n=t.id,a=t.name,r=0,o=t.project;if(t.members.length>0){var i=t.members.split(",");r=i.length}var s=0;if(t.pending.length>0){var c=t.pending.split(",");s=c.length}var u=new l(n,a,r,o,s);e.myteams.push(u)}))}))},FetchProject:function(){var e=this,t={headers:{Authorization:"JWT "+this.$store.state.token}};s["a"].developerprojects(this.$store.state.user.pk,t).then((function(t){e.myprojects=t.data}))},NewTeam:function(){this.create=!0},CreateTeam:function(){var e=this,t={headers:{Authorization:"JWT "+this.$store.state.token}};if(this.teamproject){var n={lead:this.$store.state.user.pk,project:this.teamproject,name:this.teamname};s["a"].createteam(n,t).then((function(){e.$message.success(e.teamname+" created"),e.create=!1,e.fetchmyteams()}))}else{var a={lead:this.$store.state.user.pk,name:this.teamname};s["a"].createteam(a,t).then((function(){e.$message.success(e.teamname+" created"),e.create=!1,e.fetchmyteams()}))}},Close:function(){this.create=!1,this.currentteam=null},handleChange:function(e){this.teamproject=e},handleClose:function(e){var t=this;this.members=this.members.filter((function(t){return t!==e}));var n={headers:{Authorization:"JWT "+this.$store.state.token}};this.members.forEach((function(e){t.member_ids.push(e.id)})),s["a"].updateteam(this.currentteam.id,{members:this.member_ids.join()},n).then((function(){t.$message.success(" changes submitted"),t.fetchmyteams()}))},handleClose1:function(e){var t=this;this.pendingmembers=this.pendingmembers.filter((function(t){return t!==e})),this.pendingmembers.forEach((function(e){t.pending_ids.push(e.pk)}));var n={headers:{Authorization:"JWT "+this.$store.state.token}};s["a"].updateteam(this.currentteam.id,{pending:this.pending_ids.join()},n).then((function(){t.$message.success(" changes submitted"),t.fetchmyteams()}))},Submit:function(){var e=this,t={headers:{Authorization:"JWT "+this.$store.state.token}};s["a"].updateteam(this.currentteam.id,{name:this.currentteam.name,project:this.currentteam.project},t).then((function(){e.$message.success(" changes submitted"),e.fetchmyteams()}))},openteam:function(e){var t=this;this.members=[],this.pendingmembers=[],this.teams.forEach((function(n){n.id===e.id&&(t.currentteam=n)})),this.fetchmembers(),this.fetchpending()},fetchmembers:function(){var e=this,t={headers:{Authorization:"JWT "+this.$store.state.token}},n=[];n=this.currentteam.members.split(","),this.currentteam.members.length>0&&(n=this.currentteam.members.split(","),n.forEach((function(n){c["a"].currentuser(n,t).then((function(t){e.members.push(t.data)}))})))},fetchpending:function(){var e=this,t={headers:{Authorization:"JWT "+this.$store.state.token}},n=[];n=this.currentteam.pending.split(","),n.forEach((function(n){c["a"].retrieveuser(n,t).then((function(t){e.pendingmembers.push(t.data)}))}))},lookUpuser:function(){var e=this,t={headers:{Authorization:"JWT "+this.$store.state.token}};this.loading=!0;var n=[];this.pendingmembers.forEach((function(e){n.push(e.email)})),n.includes(this.email)?(this.$message.info(" already invited"),this.loading=!1):s["a"].retrieveuser(this.email,t).then((function(t){e.pendingmembers.push(t.data),e.pendingmembers.forEach((function(t){e.pending_ids.push(t.id)}));var n={headers:{Authorization:"JWT "+e.$store.state.token}};s["a"].updateteam(e.currentteam.id,{pending:e.pending_ids.join()},n).then((function(){e.$message.success(" changes submitted"),e.fetchmyteams()})),e.loading=!1,e.email=""})).catch((function(){e.loading=!1,e.error=!0,e.email=""}))}}},d=p,h=(n("752d"),n("2877")),f=Object(h["a"])(d,a,r,!1,null,"4bebc02e",null);t["default"]=f.exports},fd99:function(e,t,n){},fe40:function(e,t,n){e.exports=n.p+"img/planning.fba66189.svg"}}]);
//# sourceMappingURL=chunk-240b0796.7cdf87d4.js.map