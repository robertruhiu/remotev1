(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09826606"],{"0f8c":function(t,e,a){"use strict";var r=a("4b02"),n=a.n(r);n.a},1257:function(t,e,a){"use strict";var r=a("de6c"),n=a.n(r);n.a},"159b":function(t,e,a){var r=a("da84"),n=a("fdbc"),s=a("17c2"),o=a("9112");for(var c in n){var i=r[c],u=i&&i.prototype;if(u&&u.forEach!==s)try{o(u,"forEach",s)}catch(l){u.forEach=s}}},"17c2":function(t,e,a){"use strict";var r=a("b727").forEach,n=a("a640"),s=a("ae40"),o=n("forEach"),c=s("forEach");t.exports=o&&c?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},"1dde":function(t,e,a){var r=a("d039"),n=a("b622"),s=a("2d00"),o=n("species");t.exports=function(t){return s>=51||!r((function(){var e=[],a=e.constructor={};return a[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"25f0":function(t,e,a){"use strict";var r=a("6eeb"),n=a("825a"),s=a("d039"),o=a("ad6d"),c="toString",i=RegExp.prototype,u=i[c],l=s((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),h=u.name!=c;(l||h)&&r(RegExp.prototype,c,(function(){var t=n(this),e=String(t.source),a=t.flags,r=String(void 0===a&&t instanceof RegExp&&!("flags"in i)?o.call(t):a);return"/"+e+"/"+r}),{unsafe:!0})},"2ada":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-layout-sider",{staticStyle:{"box-shadow":"2px 0 6px rgba(0,21,41,.35)","background-color":"#F4F7FC"},attrs:{breakpoint:"lg","collapsed-width":"0"},on:{collapse:t.onCollapse,breakpoint:t.onBreakpoint}},[a("hide-at",{attrs:{breakpoints:{small:425,medium:768},breakpoint:"mediumAndBelow"}},[a("router-link",{attrs:{to:"/"}},[a("img",{staticStyle:{width:"9rem",height:"2rem","margin-top":"1rem","margin-bottom":"1rem","margin-left":"1rem"},attrs:{src:t.defaultlogo}})])],1),a("show-at",{attrs:{breakpoint:"mediumAndBelow"}},[a("router-link",{attrs:{to:"/"}},[a("img",{staticStyle:{width:"9rem",height:"2rem","margin-top":"1rem","margin-bottom":"1rem","margin-left":"1rem"},attrs:{src:t.defaultlogo}})])],1),a("a-menu",{staticStyle:{"font-family":"sofia_proregular","background-color":"#F4F7FC"},attrs:{mode:"inline","default-selected-keys":t.key}},[a("a-menu-item",{key:"9",on:{click:function(e){return t.$router.push("/Dashboard")}}},[a("a-icon",{attrs:{type:"dashboard"}}),a("span",[t._v("Dashboard")])],1),a("a-menu-item",{key:"1",on:{click:function(e){return t.$router.push("/Myprojects")}}},[a("a-icon",{attrs:{type:"appstore"}}),a("span",[t._v("Manage my Projects")])],1),a("a-menu-item",{key:"2",on:{click:function(e){return t.$router.push("/Create")}}},[a("a-icon",{attrs:{type:"plus"}}),a("span",[t._v("Create a Project")])],1),a("a-menu-item",{key:"3",on:{click:function(e){return t.$router.push("/Escrow")}}},[a("a-icon",{attrs:{type:"bank"}}),a("span",[t._v("Escrow Management")])],1),a("a-menu-item",{key:"5",on:{click:function(e){return t.$router.push("ClientBugs")}}},[a("a-icon",{attrs:{type:"exclamation"}}),a("span",[t._v("Bugs & issues")])],1),a("a-menu-item",{key:"8",on:{click:t.logout}},[a("a-icon",{attrs:{type:"logout"}}),a("span",[t._v("logout")])],1)],1)],1)},n=[],s=a("8808"),o=a("b8fb"),c=a.n(o),i={name:"CLientSider",data:function(){return{collapsed:!1,defaultlogo:c.a,key:["9"],top:0}},components:{hideAt:s["hideAt"],showAt:s["showAt"]},computed:{getRoute:function(){var t=this.$route;return t}},methods:{onCollapse:function(t,e){return e},onBreakpoint:function(t){return t},logout:function(){this.$store.dispatch("setToken",null),this.$store.dispatch("setUser",null),this.$store.dispatch("setisLoggedIn",!1),this.$store.dispatch("setUser_object",null),this.$store.dispatch("setProjectedit",null),this.$router.push({name:"home"})}}},u=i,l=(a("0f8c"),a("2877")),h=Object(l["a"])(u,r,n,!1,null,"13cdc866",null);e["a"]=h.exports},"3f4a":function(t,e,a){"use strict";var r=a("bc3a"),n=a.n(r);e["a"]=function(){return n.a.create({baseURL:"https://codelnv1.codeln.com"})}},4160:function(t,e,a){"use strict";var r=a("23e7"),n=a("17c2");r({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},4768:function(t,e,a){},"4b02":function(t,e,a){},"65f0":function(t,e,a){var r=a("861d"),n=a("e8b5"),s=a("b622"),o=s("species");t.exports=function(t,e){var a;return n(t)&&(a=t.constructor,"function"!=typeof a||a!==Array&&!n(a.prototype)?r(a)&&(a=a[o],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===e?0:e)}},"80e1":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-layout",{staticStyle:{"min-height":"100vh","background-color":"#F4F7FC"}},[a("ClientSider"),a("a-layout",{staticStyle:{"background-color":"#F4F7FC"}},[a("a-layout-content",{style:{padding:"1% 2%",background:"#FAFBFF",minHeight:"280px"}},[a("div",[a("a-row",[a("a-col",{attrs:{span:"6"}},[a("a-card",{staticStyle:{height:"90vh"},attrs:{title:"All Chats"}},[a("span",{attrs:{slot:"extra"},slot:"extra"},[t.newchat?a("a-button",{attrs:{type:"primary"},on:{click:t.newChat}},[t._v("back")]):a("a-button",{attrs:{type:"primary"},on:{click:t.newChat}},[t._v("New Chat")])],1),t.newchat?a("div",[a("p",[t._v("should be preferably ones from projects")]),t._l(t.users,(function(e){return a("div",{key:e},[a("a-row",{staticClass:"hero1",staticStyle:{"margin-bottom":"1rem"}},[a("a",{staticStyle:{color:"black"},on:{click:function(a){return t.startChat(e)}}},[a("a-col",{attrs:{span:"4"}},[a("a-avatar",{staticStyle:{color:"#f56a00",backgroundColor:"#fde3cf"}},[t._v(" "+t._s(e)+" ")])],1),a("a-col",{attrs:{span:"18"}},[a("span",[t._v(t._s(e))]),a("br")])],1)])],1)}))],2):a("div",t._l(t.chatmod,(function(e){return a("div",{key:e},[a("a-card",{staticStyle:{width:"300px","margin-bottom":"1rem"},attrs:{size:"small",title:e.other_user}},[a("p",[t._v(t._s(e.messages[e.messages.length-1].messagelist.message))]),a("a-button",{attrs:{type:"primary"},on:{click:function(a){return t.fetchmessages(e.other_user,e.channel_url)}}},[t._v(" chat ")])],1)],1)})),0)])],1),a("a-col",{attrs:{span:"18"}},[null===t.currentchat&&!1===t.loading?a("div",{staticStyle:{padding:"5%"}},[a("a-result",{attrs:{title:"Welcome to the chat.You can start or continue converation .Please click on the person u want to chat with to start"},scopedSlots:t._u([{key:"icon",fn:function(){return[a("a-icon",{attrs:{type:"smile",theme:"twoTone"}})]},proxy:!0}],null,!1,3407242613)})],1):a("a-card",[a("span",{attrs:{slot:"title"},slot:"title"},[t._v(" "+t._s(t.currentchat.other_user)+" ")]),a("div",{staticStyle:{position:"relative",height:"79vh"}},[a("div",{staticStyle:{"overflow-y":"auto",position:"absolute",width:"100%",height:"75vh"},attrs:{id:"out"}},[t.loading?a("div",[a("a-skeleton",{attrs:{active:""}})],1):a("div",{staticStyle:{"margin-bottom":"1rem"}},t._l(t.currentchat.chat,(function(e){return a("div",{key:e},[e._sender.userId===t.user?a("div",{staticClass:"chat-msg owner"},[a("div",{staticClass:"chat-msg-profile"},[a("div",{staticClass:"chat-msg-date"},[t._v(t._s(t._f("momentformat")(e.created)))])]),a("div",{staticClass:"chat-msg-content"},[a("div",{staticClass:"chat-msg-text"},[t._v(t._s(e.message.message))])])]):a("div",{staticClass:"chat-msg"},[a("div",{staticClass:"chat-msg-profile"},[a("div",{staticClass:"chat-msg-date"},[t._v(t._s(t._f("momentformat")(e.created)))])]),a("div",{staticClass:"chat-msg-content"},[a("div",{staticClass:"chat-msg-text"},[t._v(t._s(e.message.message)+" ")])])])])})),0)]),a("div",{staticStyle:{position:"absolute",bottom:"0",width:"100%"}},[a("a-textarea",{attrs:{placeholder:"Basic usage",rows:4},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}}),a("br"),a("br"),a("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.sendMessage()}}},[t._v("Send Message")])],1)])])],1)],1)],1)])],1)],1)},n=[],s=(a("99af"),a("4160"),a("fb6a"),a("d3b7"),a("25f0"),a("159b"),a("96cf"),a("1da1")),o=a("d4ec"),c=a("2ada"),i=a("3f4a"),u={getuserchats:function(t,e){return Object(i["a"])().get("remote/v1/projects/chat/all/".concat(t),e)},chatwith:function(t,e,a){return Object(i["a"])().get("remote/v1/projects/chat/with/".concat(t,"/").concat(e),a)},sendmessageto:function(t,e,a,r,n){return Object(i["a"])().post("remote/v1/projects/chat/send_message/".concat(t,"/").concat(e,"/").concat(a,"/").concat(r),n)},sendmessageto2:function(t,e,a,r,n){return Object(i["a"])().get("remote/v1/projects/chat/send_message2/".concat(t,"/").concat(e,"/").concat(a,"/").concat(r),n)}},l=a("c1df"),h=a.n(l),d=a("bc3a"),f=(a("4768"),function t(e,a,r,n,s,c){Object(o["a"])(this,t),this.id=e,this.ids=a,this.users=r,this.channel_url=n,this.messages=s,this.other_user=c}),m={name:"Chat",data:function(){return{chats:{},chatmod:[],user:"",other_user:"",users:["dennis","admin"],message:"",groupchannel:"",loading:!1,newchat:!1,currentchat:null,currentchatmod:[],sendlink:""}},components:{ClientSider:c["a"]},beforeCreate:function(){},filters:{parseHi:function(t){return JSON.parse(t)},capitalize:function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""},momentformat:function(t){return h()(t).format("MMMM Do YYYY, h:mm:ss a")}},computed:{},mounted:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a={headers:{Authorization:"JWT "+t.$store.state.token}},t.user=t.$store.state.user.username,t.currentUserId=t.$store.state.user.pk,u.getuserchats(t.$store.state.user.username,a).then((function(e){t.chats=e.data,t.chats.length>0&&t.chats.forEach((function(e){var a=e.id,r=e.ids,n=e.users,s=e.channel_url,o="";n.forEach((function(e){e!==t.user&&(o=e)}));var c=JSON.parse(e.messages);c.forEach((function(t){var e=JSON.parse(t.message);t.messagelist=e}));var i=c,u=new f(a,r,n,s,i,o);t.chatmod.push(u)}))}));case 4:case"end":return e.stop()}}),e)})))()},methods:{fetchmessages:function(t,e){var a=this,r={headers:{Authorization:"JWT "+this.$store.state.token}};this.groupchannel=e,this.other_user=t,this.currentchat=null,this.loading=!0,u.chatwith(this.user,t,r).then((function(t){a.messages=t.data,a.currentchat=t.data,a.currentchat.chat=JSON.parse(t.data.chat),a.currentchat.chat.forEach((function(t){t.message=JSON.parse(t.message)})),a.loading=!1}))},newChat:function(){this.newchat=!this.newchat},sendMessage:function(){this.sendlink="https://codelnv1.codeln.com";var t={message:this.message};d["post"]("".concat(this.sendlink,"/remote/v1/projects/chat/send_message/").concat(this.user,"/' +\n          '").concat(this.other_user,"/").concat(this.groupchannel),t).then((function(t){this.currentchat=null,this.currentchat=t.data,this.currentchat.chat=JSON.parse(t.data.chat),this.currentchat.chat.forEach((function(t){t.message=JSON.parse(t.message)})),this.messages=t.data["messages"],this.loading=!1})).catch((function(t){console.log(t)}))}}},p=m,g=(a("1257"),a("2877")),v=Object(g["a"])(p,r,n,!1,null,"17617b68",null);e["default"]=v.exports},8418:function(t,e,a){"use strict";var r=a("c04e"),n=a("9bf2"),s=a("5c6c");t.exports=function(t,e,a){var o=r(e);o in t?n.f(t,o,s(0,a)):t[o]=a}},"99af":function(t,e,a){"use strict";var r=a("23e7"),n=a("d039"),s=a("e8b5"),o=a("861d"),c=a("7b0b"),i=a("50c4"),u=a("8418"),l=a("65f0"),h=a("1dde"),d=a("b622"),f=a("2d00"),m=d("isConcatSpreadable"),p=9007199254740991,g="Maximum allowed index exceeded",v=f>=51||!n((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),b=h("concat"),y=function(t){if(!o(t))return!1;var e=t[m];return void 0!==e?!!e:s(t)},S=!v||!b;r({target:"Array",proto:!0,forced:S},{concat:function(t){var e,a,r,n,s,o=c(this),h=l(o,0),d=0;for(e=-1,r=arguments.length;e<r;e++)if(s=-1===e?o:arguments[e],y(s)){if(n=i(s.length),d+n>p)throw TypeError(g);for(a=0;a<n;a++,d++)a in s&&u(h,d,s[a])}else{if(d>=p)throw TypeError(g);u(h,d++,s)}return h.length=d,h}})},a640:function(t,e,a){"use strict";var r=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&r((function(){a.call(null,e||function(){throw 1},1)}))}},ad6d:function(t,e,a){"use strict";var r=a("825a");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},ae40:function(t,e,a){var r=a("83ab"),n=a("d039"),s=a("5135"),o=Object.defineProperty,c={},i=function(t){throw t};t.exports=function(t,e){if(s(c,t))return c[t];e||(e={});var a=[][t],u=!!s(e,"ACCESSORS")&&e.ACCESSORS,l=s(e,0)?e[0]:i,h=s(e,1)?e[1]:void 0;return c[t]=!!a&&!n((function(){if(u&&!r)return!0;var t={length:-1};u?o(t,1,{enumerable:!0,get:i}):t[1]=1,a.call(t,l,h)}))}},b727:function(t,e,a){var r=a("0366"),n=a("44ad"),s=a("7b0b"),o=a("50c4"),c=a("65f0"),i=[].push,u=function(t){var e=1==t,a=2==t,u=3==t,l=4==t,h=6==t,d=5==t||h;return function(f,m,p,g){for(var v,b,y=s(f),S=n(y),k=r(m,p,3),w=o(S.length),_=0,C=g||c,x=e?C(f,w):a?C(f,0):void 0;w>_;_++)if((d||_ in S)&&(v=S[_],b=k(v,_,y),t))if(e)x[_]=b;else if(b)switch(t){case 3:return!0;case 5:return v;case 6:return _;case 2:i.call(x,v)}else if(l)return!1;return h?-1:u||l?l:x}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},d4ec:function(t,e,a){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}a.d(e,"a",(function(){return r}))},de6c:function(t,e,a){},e8b5:function(t,e,a){var r=a("c6b6");t.exports=Array.isArray||function(t){return"Array"==r(t)}},fb6a:function(t,e,a){"use strict";var r=a("23e7"),n=a("861d"),s=a("e8b5"),o=a("23cb"),c=a("50c4"),i=a("fc6a"),u=a("8418"),l=a("b622"),h=a("1dde"),d=a("ae40"),f=h("slice"),m=d("slice",{ACCESSORS:!0,0:0,1:2}),p=l("species"),g=[].slice,v=Math.max;r({target:"Array",proto:!0,forced:!f||!m},{slice:function(t,e){var a,r,l,h=i(this),d=c(h.length),f=o(t,d),m=o(void 0===e?d:e,d);if(s(h)&&(a=h.constructor,"function"!=typeof a||a!==Array&&!s(a.prototype)?n(a)&&(a=a[p],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return g.call(h,f,m);for(r=new(void 0===a?Array:a)(v(m-f,0)),l=0;f<m;f++,l++)f in h&&u(r,l,h[f]);return r.length=l,r}})},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-09826606.31e8f815.js.map